{% extends 'base.html' %}

{% block content %}
{% include "nav.html" %}
<div class="container">
<h1 class="text-center my-5"> List home page </h1>

<div class="text-center text-muted">
    <p> Welcome to the list home page </p>
    <p> Your list: </p>
</div>

<div class="row">
<div class="col-md-6">
<div class=" card mx-auto">
    <div class="card-header">
        <h3 class="text-center"> Add to List </h3>
    </div>
    <div class="card-body">
        <form method="post" action="{% url 'add_list' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary w-100 my-2">Add object</button>
        </form>
    </div>
</div>
</div>

{% if list %}
<div class="col-md-6">
<div class=" card mx-auto mb-5">
    <div class="card-header">
        <h3 class="text-center"> The list </h3>
    </div>
    <div class="card-body">
        {% for item in list %}
        <ul>
            <li>
                <p> {{ item.title }} - ({{ item.date | date:"h:i d M Y" }}) 
                    {% if user.is_superuser%}
                    - {{ item.user }}
                    {% endif %}
                    <p class="text-muted">{{ item.description }}</p>
                    <form method="post" action="{% url 'delete_list' item.id %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                </p>
            </li>
        </ul>
        {% endfor %}
    </div>
</div>
{% endif %}
</div>
</div>
</div>
{% endblock content %}
